* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* ------------------------------------------------------------------ */
/* App shell tokens (voit myöhemmin siirtää omaan .appRoot -scopeen)   */
/* ------------------------------------------------------------------ */
:root {
  --app-border: rgba(0, 0, 0, 0.08);

  /* Bottom bar / glass */
  --app-tabbar-h: 72px;
  --app-tabbar-radius: 18px;
  --app-glass-bg: rgba(255, 255, 255, 0.65);
  --app-glass-border: rgba(0, 0, 0, 0.10);
  --app-glass-blur: 18px;

  /* Spacing */
  --app-pad: 16px;
}

/* ------------------------------------------------------------------ */
/* Base: mobile first (0–767)                                          */
/* - vain bottom tabbar näkyy                                          */
/* - main scrollaa tabbarin ALLE                                       */
/* ------------------------------------------------------------------ */
.appShell {
  height: 100dvh;
  width: 100%;
  display: grid;
  grid-template-rows: 1fr; /* vain main gridissä; tabbar on overlay */
  grid-template-columns: 1fr;
  overflow: hidden;
}

.appTopbar {
  display: none; /* mobile: EI topbar */
}

.appSidebar {
  display: none; /* mobile: EI sidebar */
}

.appMain {
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  padding: var(--app-pad);

  /* jätä tilaa overlay-tabbarille + iOS safe-area */
  padding-bottom: calc(
    var(--app-pad) + var(--app-tabbar-h) + env(safe-area-inset-bottom, 0px) + 10px
  );
}

/* Bottom tabbar overlay + glass */


/* Yleinen linkkistyle navissa */


/* Optional: painallusfiilis mobiilissa */
.appNavLink:active,
.appTabbar__item:active {
  transform: scale(0.98);
}

/* ------------------------------------------------------------------ */
/* Topbar styles (näkyy vain tabletissa tässä mallissa)                 */
/* ------------------------------------------------------------------ */
.appTopbar {
  height: 56px;
  align-items: center;
  gap: 16px;
  padding: 0 16px;
  border-bottom: 1px solid var(--app-border);
}

.appTopbar__brand {
  font-weight: 700;
}

.appTopbar__nav {
  display: flex;
  gap: 12px;
}

.appTopbar__user {
  margin-left: auto;
  opacity: 0.7;
}

/* ------------------------------------------------------------------ */
/* Sidebar styles (näkyy vain desktopissa tässä mallissa)               */
/* ------------------------------------------------------------------ */
.appSidebar {
  padding: 16px;
  border-right: 1px solid var(--app-border);
}

.appSidebar__nav {
  display: grid;
  gap: 8px;
}

/* ------------------------------------------------------------------ */
/* Tablet: 768–1023 -> vain TOPBAR                                      */
/* ------------------------------------------------------------------ */
@media (min-width: 768px) and (max-width: 1023px) {
  .appShell {
    grid-template-rows: auto 1fr; /* topbar + main */
  }

  .appTopbar {
    display: flex;
  }

  .appMain {
    padding: var(--app-pad);
    padding-bottom: var(--app-pad); /* ei overlay-tabbaria */
  }

  .appTabbar {
    display: none;
  }

  .appSidebar {
    display: none;
  }
}

/* ------------------------------------------------------------------ */
/* Desktop: >=1024 -> vain SIDEBAR                                      */
/* ------------------------------------------------------------------ */
@media (min-width: 1024px) {
  .appShell {
    grid-template-rows: 1fr;
    grid-template-columns: 280px 1fr; /* sidebar + main */
  }

  .appSidebar {
    display: block;
    overflow: auto;
  }

  .appTopbar {
    display: none;
  }

  .appTabbar {
    display: none;
  }

  .appMain {
    padding: 24px;
  }
}



.userMenu { position: relative; }
.userMenu__trigger { background: none; border: 0; padding: 8px; }
.userMenu__avatar { border-radius: 999px; display: block; }

.userMenu__panel{
  position: absolute;
  right: 0;
  bottom: 64px;
  width: 240px;
  padding: 12px;
  border-radius: 16px;
  background: rgba(255,255,255,.85);
  backdrop-filter: blur(12px);
  box-shadow: 0 10px 40px rgba(0,0,0,.15);
}

.userMenu__email { opacity: .7; font-size: 12px; }
.userMenu__action { display:block; margin-top: 10px; padding: 10px; border-radius: 12px; background: rgba(0,0,0,.06); text-align:center; }


.userTrigger {
  display: grid;
  place-items: center;
  width: 44px;
  height: 44px;
  border: 0;
  background: transparent;
  border-radius: 999px;
}

.userAvatar,
.userAvatarLg {
  border-radius: 999px;
  display: block;
}

.userAvatarFallback {
  width: 32px;
  height: 32px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  font-weight: 700;
  background: rgba(0,0,0,.08);
}

.userAvatarLgFallback {
  width: 48px;
  height: 48px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  font-weight: 800;
  background: rgba(0,0,0,.08);
}

.sheetOverlay {
  position: fixed;
  inset: 0;
  z-index: 1000;

  background: rgba(0,0,0,.35);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);

  display: grid;
  align-items: end;

}

.sheet {
  width: 90%;
  margin: 0 auto;

  /* “pysähtyy keskelle”: ei täyteen korkeuteen */
  height: 80vh;

  border-radius: 22px 22px 0 0;
  overflow: hidden;

  background: rgba(255,255,255,.92);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);

  box-shadow: 0 20px 60px rgba(0,0,0,.25);

  /* aukeamis-animaatio */
  animation: sheetIn 180ms ease;
}

@keyframes sheetIn {
  from { transform: translateY(16px); opacity: .96; }
  to   { transform: translateY(0);  opacity: 1; }
}

.sheetHandle {
  padding: 10px 0 6px;
  display: grid;
  place-items: center;
  touch-action: none; /* tärkeä dragille */
}

.sheetHandleBar {
  width: 44px;
  height: 5px;
  border-radius: 999px;
  background: rgba(0,0,0,.14);
}

.sheetContent {
  padding: 14px 14px 16px;
  overflow: auto; /* jos sisältö kasvaa */
  -webkit-overflow-scrolling: touch;
}

.sheetHeader {
  display: grid;
  grid-template-columns: 56px 1fr;
  gap: 12px;
  align-items: center;
  margin-bottom: 12px;
}

.sheetName {
  font-weight: 700;
}

.sheetEmail {
  font-size: 12px;
  opacity: .75;
}

.sheetActions {
  display: grid;
  gap: 10px;
  margin-top: 10px;
}

.sheetBtn {
  border: 0;
  border-radius: 14px;
  padding: 12px 12px;
  background: rgba(0,0,0,.06);
  text-align: left;
}

.sheetHint {
  margin-top: 12px;
  font-size: 12px;
  opacity: .7;
}

/* avatar */
.userTrigger {
  width: 44px;
  height: 44px;
  border: 0;
  background: none;
  display: grid;
  place-items: center;
}

.userAvatar {
  border-radius: 999px;
}

.userAvatarFallback {
  width: 32px;
  height: 32px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  background: rgba(0,0,0,.1);
}

/* OVERLAY */
.sheetOverlay {
  position: fixed;
  inset: 0;
  z-index: 9999;

  background: rgba(0,0,0,.35);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);

  display: grid;
  align-items: end;
}



.sheetHandle {
  padding: 10px 0;
  display: grid;
  place-items: center;
}

.sheetHandleBar {
  width: 44px;
  height: 5px;
  border-radius: 999px;
  background: rgba(0,0,0,.2);
}

.sheetContent {
  padding: 14px;
  overflow: auto;
}

.sheetHeader {
  display: grid;
  grid-template-columns: 56px 1fr;
  gap: 12px;
  align-items: center;
}

.userAvatarLg {
  border-radius: 999px;
}

.sheetName {
  font-weight: 700;
}

.sheetEmail {
  font-size: 12px;
  opacity: .7;
}

.sheetActions {
  display: grid;
  gap: 10px;
  margin-top: 14px;
}

.sheetBtn {
  padding: 12px;
  border-radius: 14px;
  border: 0;
  background: rgba(0,0,0,.06);
  text-align: left;
}

.sheetHint {
  margin-top: 12px;
  font-size: 12px;
  opacity: .7;
}


/* Fix: drag handle needs touch-action none, otherwise browser treats it as scroll */
.sheetHandle {
  touch-action: none;
  cursor: grab;
  user-select: none;
}

.sheetHandle:active {
  cursor: grabbing;
}

/* Makes transform smoother while dragging */
.sheet {
  will-change: transform;
}

